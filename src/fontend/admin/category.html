<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Quản lý thể loại</title>
    <link rel="stylesheet" href="../css/adminCss/styleCat.css">
    <link rel="stylesheet" href="../css/adminCss/styleSidebar.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="../css/adminCss/adminHeader.css">
</head>
<body>
<div class="container">

    <!-- Sidebar -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <img src="../../img/logo.png" alt="Logo" class="logo">
            <h2>Comic Store</h2>
        </div>

        <ul>
            <li>
                <img src="../../img/home.png" class="icon">
                <span>Trang chủ</span>
            </li>
            <li class="active">
                <img src="../../img/product.png" class="icon">
                <span>Quản lý sản phẩm</span>
            </li>
            <li>
                <img src="../../img/category.png" class="icon">
                <span>Quản lý thể loại</span>
            </li>
            <li>
                <img src="../../img/order.png" class="icon">
                <span>Quản lý đơn hàng</span>
            </li>
            <li>
                <img src="../../img/user.png" class="icon">
                <span>Quản lý người dùng</span>
            </li>
            <li>
                <img src="../../img/promo.png" class="icon">
                <span>Khuyến mãi</span>
            </li>
            <li>
                <img src="../../img/report.png" class="icon">
                <span>Thống kê/ Báo cáo</span>
            </li>
        </ul>
    </aside>

    <div class="main-content">
        <header class="admin-header">
            <div class="header-right">
                <i class="bi bi-bell header-icon"></i>
                <i class="bi bi-chat-dots header-icon"></i>

                <div class="admin-profile">
                    <img src="../../img/admin.png" class="admin-avatar" alt="Admin">
                    <span class="admin-name">Admin</span>
                </div>
            </div>
        </header>
        <h2 class="page-title">Quản lý đơn hàng</h2>

        <div class="search-add-container">
            <input type="text" placeholder="Tìm kiếm truyện..." class="search-input">
            <button class="add-btn">
                <span>+</span> Thêm thể loại
            </button>
        </div>

        <div class="table-container">
            <table>
                <thead>
                <tr>
                    <th>Mã thể loại</th>
                    <th>Tên thể loại</th>
                    <th></th>
                </tr>
                </thead>
                <tbody id="catTableBody">
                <tr>
                    <td>CT01</td>
                    <td>Hành động</td>
                    <td>
                        <button class="delete-btn">Xóa</button>
                    </td>
                </tr>
                <tr>
                    <td>CT02</td>
                    <td>Trinh thám</td>
                    <td>
                        <button class="delete-btn">Xóa</button>
                    </td>
                </tr>
                <tr>
                    <td>CT03</td>
                    <td>Học đường</td>
                    <td>
                        <button class="delete-btn">Xóa</button>
                    </td>
                </tr>
                <tr>
                    <td>CT04</td>
                    <td>Kinh dị</td>
                    <td>
                        <button class="delete-btn">Xóa</button>
                    </td>
                </tr>

                <tr class="pagination-row">
                    <td colspan="10">
                        <div class="pagination">
                            <button class="page-btn cat-page" data-page="1">1</button>
                            <button class="page-btn cat-page" data-page="2">2</button>
                            <button class="page-btn cat-page" data-page="3">3</button>
                        </div>
                    </td>
                </tr>

                </tbody>
            </table>

        </div>
        <!--Thêm thể loại-->
        <div class="popup-overlay" id="addPopup">
            <div class="popup-box">
                <h3>Thêm thể loại</h3>
                <label>Tên thể loại:</label>
                <input type="text" id="newCategoryName">

                <div class="popup-actions">
                    <button class="save-btn">Lưu</button>
                    <button class="cancel-btn" onclick="closeAddPopup()">Hủy</button>
                </div>
            </div>
        </div>

        <!--        Xóa thể loại-->
        <div class="popup-overlay" id="deletePopup">
            <div class="popup-box">
                <h3>Bạn có chắc muốn xóa?</h3>
                <div class="popup-actions">
                    <button class="save-btn">Xóa</button>
                    <button class="cancel-btn" onclick="closeDeletePopup()">Hủy</button>
                </div>
            </div>
        </div>


    </div>
</div>


<!--js của popup thêm và xóa-->
<script>
    function openAddPopup() {
        document.getElementById("addPopup").style.display = "flex";
    }

    function closeAddPopup() {
        document.getElementById("addPopup").style.display = "none";
    }

    function openDeletePopup() {
        document.getElementById("deletePopup").style.display = "flex";
    }

    function closeDeletePopup() {
        document.getElementById("deletePopup").style.display = "none";
    }

    // Gán sự kiện cho nút Thêm thể loại
    document.querySelector(".add-btn").addEventListener("click", openAddPopup);

    // Gán sự kiện cho nút Xóa trong bảng (tất cả nút Delete)
    document.querySelectorAll(".delete-btn").forEach(btn => {
        btn.addEventListener("click", openDeletePopup);
    });
</script>

<script>
    (function(){
        const ROWS_PER_PAGE = 5;
        const tbody = document.getElementById('catTableBody');
        const rows = Array.from(tbody.querySelectorAll('tr')).filter(r => !r.classList.contains('pagination-row'));
        const pageButtons = document.querySelectorAll('.cat-page');

        function showPage(page){
            const start = (page - 1) * ROWS_PER_PAGE;
            const end = start + ROWS_PER_PAGE;

            rows.forEach((r, idx) => {
                r.style.display = (idx >= start && idx < end) ? "" : "none";
            });

            pageButtons.forEach(btn => btn.classList.remove('active'));
            document.querySelector(`.cat-page[data-page="${page}"]`)?.classList.add('active');
        }

        pageButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                showPage(Number(btn.dataset.page));
            });
        });

        showPage(1);
    })();
</script>

</body>
</html>