<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="../css/puplicCss/FooterStyle.css">
    <link rel="stylesheet" href="../css/puplicCss/nav.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link rel="stylesheet" href="../css/UserBCss/profile.css">
</head>
<body>
<header class="navbar">
    <div class="logo">
        <img id="logo" src="../../img/logo.png" alt="Comic Store">
        <span>Comic Store</span>
    </div>
    <nav class="menu">
        <a href="#">Trang chủ</a>
        <div class="dropdown">
            <a href="#">Thể loại &#9662;</a>
            <div class="dropdown-content">
                <a href="#">Hành động</a>
                <a href="#">Trinh thám</a>
                <a href="#">Hài hước</a>
            </div>
        </div>
        <a href="#">Liên hệ</a>
    </nav>
    <div class="actions">
        <div class="search-bar">
            <input type="text" placeholder="Voucher Xịn đến 100 nghìn" class="search-input">
            <button class="search-button">
                <i class="fas fa-magnifying-glass"></i>
            </button>
        </div>
        <i class="fa-solid fa-bell"></i>
        <a href="#" class="publish-btn">Publish</a>
        <i class="fa-solid fa-user"></i>
        <a href="#" class="login-btn">Log in</a>
        <i class="fa-solid fa-comment"></i>
    </div>
</header>

<main>
    <div class="profile-container">
        <div class="profile-header">
            <div class="avatar">
                <img src="https://mayweddingstudio.vn/wp-content/uploads/anh-dai-dien-facebook-nu-9.webp" alt="Avatar">
            </div>
            <div class="user-info">
                <h2>Huỳnh Trúc</h2>
                <p class="membership">Thành viên Bạc</p>
                <p class="f-point">F-Point tích lũy: 0</p>
<!--                <button class="add-point">Thêm 30.000 đé nâng hạng Vàng</button>-->
            </div>
        </div>
        <div class="menu">
            <ul>
                <li><a href="#">Thông tin tài khoản <span class="red-dot"></span></a></li>
                <li><a href="#">Đổi mật khẩu</a></li>
                <li><a href="#">Ưu đãi thành viên</a></li>
                <li><a href="#">Đơn hàng của tôi</a></li>
                <li><a href="#">Ví voucher <span class="badge">14</span></a></li>
                <li><a href="#">Thông Báo</a></li>
                <li><a href="#">Sản phẩm yêu thích</a></li>
            </ul>
        </div>
    </div>
    <div class="profile-form-container">
        <h2>Hồ sơ cá nhân</h2>
        <form>
            <div class="form-group">
                <label for="ho">Họ*</label>
                <input type="text" id="ho" name="ho" value="Huỳnh" required>
            </div>
            <div class="form-group">
                <label for="ten">Tên*</label>
                <input type="text" id="ten" name="ten" value="Trúc" required>
            </div>
            <div class="form-group">
                <label for="phone">Số điện thoại</label>
                <input type="tel" id="phone" name="phone" value="0394158994" required>
                <button type="button" class="edit-btn">Thay đổi</button>
            </div>
            <div class="form-group">
                <label for="email">Email</label>
                <input type="email" id="email" name="email" value="Chưa có email" required>
                <button type="button" class="edit-btn">Thêm mới</button>
            </div>
            <div class="form-group">
                <div class="genders">
                    <label>Giới tính*</label>
                    <div class="gender-options">
                        <label><input type="radio" name="gender" value="male" checked> Nam</label>
                        <label><input type="radio" name="gender" value="female"> Nữ</label>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div class="birthday">
                    <label for="day">Birthday*</label>
                    <input type="number" id="day" name="day" value="27" min="1" max="31" required> /
                    <input type="number" id="month" name="month" value="10" min="1" max="12" required> /
                    <input type="number" id="year" name="year" value="2005" min="1900" max="2025" required>
                </div>
            </div>
            <div class="form-group">
                <div class="address">
                    <label for="country">Quốc gia*</label>
                    <select id="country" name="country" required>
                        <option value="" disabled selected>Chọn quốc gia</option>
                        <option value="Vietnam">Việt Nam</option>

                    </select>
                    <div class="diaChi">
                        <div class="address-group">
                            <label for="province">Tỉnh/Thành phố*</label>
                            <select id="province" name="province" required>
                                <option value="" disabled selected>Chọn tỉnh/thành phố</option>
                            </select>
                        </div>

                        <div class="address-group">
                            <label for="district">Huyện*</label>
                            <select id="district" name="district" required>
                                <option value="" disabled selected>Chọn huyện</option>
                            </select>
                        </div>
                    </div>

                    <label for="house-number">Số nhà*</label>
                    <input type="text" id="house-number" name="house-number" placeholder="Nhập số nhà, xã" required>
                </div>
            </div>
            <button type="submit" class="save-btn">Lưu thay đổi</button>
        </form>
    </div>
    <div class="change-password-container" style="display: none">
        <h2>Đổi mật khẩu</h2>
        <form action="">
            <div class="form-group">
                <label for="current-passord">Mật khẩu hiện tại*</label>
                <input type="password" id="current-passord" name="current-passord" required>
            </div>
            <div class="form-group">
                <label for="new-password">Mật khẩu mới*</label>
                <input type="password" id="new-password" name="new-password" required>
            </div>
            <div class="form-group">
                <label for="confirm-password">Xác nhận mật khẩu mới*</label>
                <input type="password" id="confirm-password" name="confirm-password" required>
            </div>
            <button type="submit" class="save-btn">Lưu thay đổi</button>
        </form>
    </div>
</main>

<footer class="footer">
    <div class="footer-container">
        <!-- Cột 1: Giới thiệu -->
        <div class="footer-column">
            <div class="logo">
                <a href="#">
                    <img src="../../img/logo.png" alt="logo"><!--420-780-->
                </a>
            </div>
            <p><b>ComicStore</b> là cửa hàng truyện tranh<br> trực tuyến hàng đầu Việt Nam<br> — nơi bạn có thể mua
                truyện
                giấy,<br>
                đọc truyện online và<br> khám phá thế giới<br> manga – manhwa – comic đa dạng.</p>
            <p>Thành lâp năm <strong>2025</strong>, chúng tôi mang đến hơn
                <str>10.000+</str>
                <br>
                truyện hấp dẫn cho bạn
            </p>
        </div>

        <!-- Cột 2: Liên kết nhanh -->
        <div class="footer-column">
            <h4><i class="fa-solid fa-link"></i> Liên kết nhanh</h4>
            <ul>
                <li><a href="#">Trang chủ</a></li>
                <li><a href="#">Thể loại truyện</a></li>
                <li><a href="#">Khuyến mãi</a></li>
                <li><a href="#">Giỏ hàng</a></li>
                <li><a href="#">Liên hệ</a></li>
            </ul>
        </div>

        <!-- Cột 3: Hỗ trợ khách hàng -->
        <div class="footer-column">
            <h4><i class="fa-solid fa-headset"></i> Hỗ trợ khách hàng</h4>
            <ul>
                <li><a href="#">Hướng dẫn mua hàng</a></li>
                <li><a href="#">Chính sách đổi trả</a></li>
                <li><a href="#">Chính sách vận chuyển</a></li>
                <li><a href="#">Câu hỏi thường gặp (FAQ)</a></li>
            </ul>
        </div>

        <!-- Cột 4: Liên hệ & Mạng xã hội -->
        <div class="footer-column">
            <h4><i class="fa-solid fa-envelope"></i> Liên hệ</h4>
            <p><i class="fa-solid fa-envelope"></i> support@metruyen.vn</p>
            <p><i class="fa-solid fa-phone"></i> 0123 456 789</p>
            <p><i class="fa-solid fa-location-dot"></i> 123 Nguyễn Huệ, Q.1, TP.HCM</p>

            <div class="social-links">
                <a href="#" title="Facebook"><i class="fab fa-facebook-f"></i></a>
                <a href="#" title="Instagram"><i class="fab fa-instagram"></i></a>
                <a href="#" title="TikTok"><i class="fab fa-tiktok"></i></a>
            </div>
        </div>

        <!-- Cột 5: Thanh toán -->
        <div class="footer-column">
            <h4><i class="fa-solid fa-shield-halved"></i> Thanh toán & Bảo mật</h4>
            <p>Hỗ trợ thanh toán qua:</p>
            <div class="payment-icons">
                <img src="../../img/momo.png" alt="Momo">
                <img src="../../img/zalopay.png" alt="ZaloPay">
            </div>
            <p>Website đã đăng ký với Bộ Công Thương.</p>
        </div>
    </div>

    <div class="footer-bottom">
        <p>© 2025 <strong>ComicStore.vn</strong> — All rights reserved.</p>
    </div>
</footer>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const provinceSelect = document.getElementById('province');
        const districtSelect = document.getElementById('district');
        const profileForm = document.querySelector('.profile-form-container');
        const changePasswordForm = document.querySelector('.change-password-container');
        const menuItems = document.querySelectorAll('.menu ul li');

        // Fallback tĩnh cho huyện
        const fallbackDistricts = {
            '1': [{ code: '001', name: 'Ba Đình' }, { code: '002', name: 'Hoàn Kiếm' }, { code: '003', name: 'Cầu Giấy' }],
            '79': [{ code: '268', name: 'Quận 1' }, { code: '269', name: 'Quận 3' }, { code: '270', name: 'Quận 7' }],
            '48': [{ code: '161', name: 'Hải Châu' }, { code: '162', name: 'Thanh Khê' }]
        };

        // Load tỉnh/thành
        fetch('https://provinces.open-api.vn/api/?depth=1')
            .then(response => {
                if (!response.ok) throw new Error('Network response was not ok');
                return response.json();
            })
            .then(data => {
                data.forEach(item => {
                    const option = document.createElement('option');
                    option.value = item.code;
                    option.textContent = item.name;
                    provinceSelect.appendChild(option);
                });
                console.log('Đã load thành công', data.length, 'tỉnh/thành phố');
            })
            .catch(error => console.error('Error loading provinces:', error));

        // Load huyện khi chọn tỉnh
        provinceSelect.addEventListener('change', function() {
            const provinceCode = this.value;
            districtSelect.innerHTML = '<option value="" disabled selected>Đang tải huyện...</option>';
            if (provinceCode) {
                fetch(`https://esgoo.net/api-quanhuyen?tinhthanh=${provinceCode}`)
                    .then(response => {
                        if (!response.ok) throw new Error('Network response was not ok');
                        return response.json();
                    })
                    .then(data => {
                        districtSelect.innerHTML = '<option value="" disabled selected>Chọn huyện</option>';
                        if (data.length > 0) {
                            data.forEach(item => {
                                const option = document.createElement('option');
                                option.value = item.id;
                                option.textContent = item.ten_quan_huyen;
                                districtSelect.appendChild(option);
                            });
                            console.log('Đã load thành công', data.length, 'huyện cho tỉnh', provinceCode);
                        } else {
                            loadFallbackDistricts(provinceCode);
                        }
                    })
                    .catch(error => {
                        console.error('Lỗi tải huyện từ Esgoo API cho tỉnh', provinceCode, ':', error);
                        loadFallbackDistricts(provinceCode);
                    });
            } else {
                districtSelect.innerHTML = '<option value="" disabled selected>Chọn huyện</option>';
            }
        });

        // Hàm load fallback tĩnh
        function loadFallbackDistricts(provinceCode) {
            districtSelect.innerHTML = '<option value="" disabled selected>Chọn huyện</option>';
            const districts = fallbackDistricts[provinceCode] || [{ code: 'none', name: 'Không có dữ liệu' }];
            districts.forEach(item => {
                const option = document.createElement('option');
                option.value = item.code;
                option.textContent = item.name;
                districtSelect.appendChild(option);
            });
            console.log('Đã load fallback huyện cho tỉnh', provinceCode);
        }

        // Xử lý click menu item
        menuItems.forEach(item => {
            item.addEventListener('click', function(e) {
                // Loại bỏ active từ tất cả
                menuItems.forEach(i => i.classList.remove('active'));
                this.classList.add('active');

                // Xử lý hiển thị form
                const text = this.querySelector('a').textContent.trim();
                if (text === 'Đổi mật khẩu') {
                    profileForm.style.display = 'none';
                    changePasswordForm.style.display = 'block';
                } else {
                    profileForm.style.display = 'block';
                    changePasswordForm.style.display = 'none';
                }

                e.preventDefault();
            });
        });

        // Đặt active mặc định cho "Thông tin tài khoản"
        menuItems[0].classList.add('active');
        profileForm.style.display = 'block';
        changePasswordForm.style.display = 'none';
    });
</script>
</body>
</html>