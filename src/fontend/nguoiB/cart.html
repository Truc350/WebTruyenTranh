<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comic Store - Giỏ hàng</title>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">


    <!-- CSS -->
    <link rel="stylesheet" href="../css/puplicCss/FooterStyle.css">
    <link rel="stylesheet" href="../css/UserBCss/cartCss.css">
    <link rel="stylesheet" href="../css/puplicCss/nav.css">
</head>
<body>

<!-- ===================== HEADER ===================== -->
<header class="navbar">
    <div class="logo">
        <img id="logo" src="../../img/logo.png" alt="Comic Store">
        <span>Comic Store</span>
    </div>
    <nav class="menu">
        <a href="#">Trang chủ</a>

        <div class="dropdown">
            <a href="#">Thể loại &#9662;</a>
            <div class="dropdown-content">
                <a href="#">Hành động</a>
                <a href="#">Trinh thám</a>
                <a href="#">Hài hước</a>
            </div>
        </div>

        <a href="#">Liên hệ</a>
    </nav>
    <div class="actions">
        <div class="search-bar">
            <input type="text" placeholder="Voucher Xịn đến 100 nghìn" class="search-input">
            <button class="search-button">
                <i class="fas fa-magnifying-glass"></i>
            </button>
        </div>
        <i class="fa-solid fa-bell"></i>
        <a href="#" class="publish-btn">Publish</a>
        <i class="fa-solid fa-user"></i>
        <a href="#" class="login-btn">Log in</a>
        <i class="fa-solid fa-comment"></i>

    </div>
</header>
<!-- ===================== MAIN CONTENT ===================== -->
<main class="wrapper">

    <!-- CỘT TRÁI: DANH SÁCH SẢN PHẨM (CÓ SCROLL) -->
    <div class="cart-items-container">
        <!-- Header -->
        <div class="cart-header">GIỎ HÀNG (2 sản phẩm)</div>

        <!-- Chọn tất cả -->
        <div class="select-all">
            <input type="checkbox" class="item-checkbox" id="select-all"/>
            <label for="select-all">Chọn tất cả (2 sản phẩm)</label>
            <div class="quantity-header">Số lượng</div>
            <div class="price-header">Thành tiền</div>
        </div>

        <!-- Scrollable Area -->
        <div class="cart-items-scrollable">
            <div class="cart-items">

                <!-- Sản phẩm 1 -->
                <div class="cart-item">
                    <input type="checkbox" class="item-checkbox"/>
                    <img src="https://cdn.hstatic.net/products/1000376556/thien_quan_tu_phuc_2_-_bia_1_1__8dd3bc9af4784d79a7451f64899ef0d9_1024x1024.jpg"
                         alt="Thiên quan từ phúc" class="item-image"/>
                    <div class="item-info">
                        <div class="item-title">Thiên quan từ phúc</div>
                        <div class="item-subtitle">Thiên quan từ phúc</div>
                        <div class="item-price">86.000 đ
                            <del>115.000 đ</del>
                        </div>
                    </div>
                    <div class="quantity-control">
                        <button class="quantity-btn minus">-</button>
                        <input type="text" value="1" class="quantity-input" readonly/>
                        <button class="quantity-btn plus">+</button>
                    </div>
                    <div class="item-total">86.000 đ</div>
                    <span class="delete-btn">Xóa</span>
                </div>

                <!-- Sản phẩm 2 -->
                <div class="cart-item">
                    <input type="checkbox" class="item-checkbox"/>
                    <img src="https://bloganchoi.com/wp-content/uploads/2023/06/truyen-tranh-ngon-tinh-hay-2023-12-696x1392.jpg"
                         alt="Nhật Ký Tarot" class="item-image"/>
                    <div class="item-info">
                        <div class="item-title">Bộ Bài Nhật Ký Tarot - Kèm Sách Hướng Dẫn (Tái Bản 2022)</div>
                        <div class="item-subtitle">
                            1 x Bộ Bài Nhật Ký Tarot - Kèm Sách Hướng Dẫn (Tái Bản 2022)<br>
                            1 x Bộ Bìa Góc Bảo Quản
                        </div>
                        <div class="item-price">164.002 đ
                            <del>205.000 đ</del>
                        </div>
                    </div>
                    <div class="quantity-control">
                        <button class="quantity-btn minus">-</button>
                        <input type="text" value="1" class="quantity-input" readonly/>
                        <button class="quantity-btn plus">+</button>
                    </div>
                    <div class="item-total">164.002 đ</div>
                    <span class="delete-btn">Xóa</span>
                </div>

                <!-- Thêm sản phẩm để test scroll -->
                <!-- <div class="cart-item">...</div> -->

            </div>
        </div>
    </div>

    <!-- CỘT PHẢI: TỔNG KẾT & THANH TOÁN (STICKY) -->
    <div class="cart-summary">
        <!-- Khuyến mãi -->
        <div class="promo-section">
            <div class="promo-header">
                <i class="fa-solid fa-tag"></i>
                <span>KHUYẾN MÃI</span>
                <a href="#" class="view-more">Xem thêm ></a>
            </div>
            <div class="promo-item">
                <div class="promo-info">
                    <div class="promo-title">Mã Giảm 10K - Toàn Sản</div>
                    <div class="promo-desc">Đơn hàng từ 130k - Không bao gồm giá trị của các sản phẩm sau Manga,
                        Ngoại...
                    </div>
                    <div class="promo-expiry">HSD: 31/10/2025</div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 40%;"></div>
                    </div>
                    <div class="progress-label">Mua thêm 130.000 đ</div>
                </div>
                <button class="btn-buy-more">Mua thêm</button>
            </div>
            <div class="promo-note">
                <i class="fa-solid fa-circle-info"></i>
                Có thể áp dụng đồng thời nhiều...
            </div>
        </div>

        <!-- Nhận quà -->
        <div class="gift-section">
            <div class="gift-header">
                <i class="fa-solid fa-gift"></i>
                <span>Nhận quà</span>
                <a href="#" class="view-more">Chọn quà ></a>
            </div>
        </div>

        <!-- Tổng tiền -->
        <div class="total-section">
            <div class="total-row">
                <span>Thành tiền</span>
                <span class="total-price">0 đ</span>
            </div>
            <div class="total-row final">
                <span>Tổng Số Tiền (gồm VAT)</span>
                <span class="total-final">0 đ</span>
            </div>
        </div>

        <!-- Thanh toán -->
        <div class="checkout-section">
            <button class="btn-checkout">THANH TOÁN</button>
            <div class="checkout-note">(Giảm giá trên web chỉ áp dụng cho bán lẻ)</div>
        </div>
    </div>
</main>

<!-- ===================== FOOTER ===================== -->
<footer class="footer">
    <div class="footer-container">
        <!-- Cột 1: Giới thiệu -->
        <div class="footer-column">
            <div class="logo">
                <a href="#">
                    <img src="../../img/logo.png" alt="logo">
                </a>
            </div>
            <p><b>ComicStore</b> là cửa hàng truyện tranh<br> trực tuyến hàng đầu Việt Nam<br> — nơi bạn có thể mua
                truyện giấy,<br>
                đọc truyện online và<br> khám phá thế giới<br> manga – manhwa – comic đa dạng.</p>
            <p>Thành lập năm <strong>2025</strong>, chúng tôi mang đến hơn
                <strong>10.000+</strong>
                <br>
                truyện hấp dẫn cho bạn
            </p>
        </div>

        <!-- Cột 2: Liên kết nhanh -->
        <div class="footer-column">
            <h4>Liên kết nhanh</h4>
            <ul>
                <li><a href="#">Trang chủ</a></li>
                <li><a href="#">Thể loại truyện</a></li>
                <li><a href="#">Khuyến mãi</a></li>
                <li><a href="#">Giỏ hàng</a></li>
                <li><a href="#">Liên hệ</a></li>
            </ul>
        </div>

        <!-- Cột 3: Hỗ trợ khách hàng -->
        <div class="footer-column">
            <h4>Hỗ trợ khách hàng</h4>
            <ul>
                <li><a href="#">Hướng dẫn mua hàng</a></li>
                <li><a href="#">Chính sách đổi trả</a></li>
                <li><a href="#">Chính sách vận chuyển</a></li>
                <li><a href="#">Câu hỏi thường gặp (FAQ)</a></li>
            </ul>
        </div>

        <!-- Cột 4: Liên hệ & Mạng xã hội -->
        <div class="footer-column">
            <h4>Liên hệ</h4>
            <p>support@metruyen.vn</p>
            <p>0123 456 789</p>
            <p>123 Nguyễn Huệ, Q.1, TP.HCM</p>

            <div class="social-links">
                <a href="#" title="Facebook"><i class="fab fa-facebook-f"></i></a>
                <a href="#" title="Instagram"><i class="fab fa-instagram"></i></a>
                <a href="#" title="TikTok"><i class="fab fa-tiktok"></i></a>
            </div>
        </div>

        <!-- Cột 5: Thanh toán -->
        <div class="footer-column">
            <h4>Thanh toán & Bảo mật</h4>
            <p>Hỗ trợ thanh toán qua:</p>
            <div class="payment-icons">
                <img src="../../img/momo.png" alt="Momo">
                <img src="../../img/zalopay.png" alt="ZaloPay">
            </div>
            <p>Website đã đăng ký với Bộ Công Thương.</p>
        </div>
    </div>

    <div class="footer-bottom">
        <p>© 2025 <strong>ComicStore.vn</strong> — All rights reserved.</p>
    </div>
</footer>

<div class="promoPopup" id="modal">
    <div class="modalContent">
        <span class="closeBtn">&times;</span>
        <h2>CHỌN MÃ KHUYẾN MÃI</h2>
        <p>Hướng dẫn sử dụng Gift Card ⓘ</p>
        <div class="promoInput">
            <input type="text" id="promoCodeInput" placeholder="Nhập mã khuyến mãi..." class="promoInputField">
            <button id="applyManualCode" class="btnApply">Áp dụng</button>
        </div>
        <div class="promo-list">
            <div class="promoItem">
                <input type="radio" id="promo10k" name="promo" value="10k">
                <label for="promo10k">Mã giảm giá 10K - Toàn sàn <br><small>Đơn hàng từ 130k -Không bao gồm giá trị <br>của
                    các sản phẩm sau Manga, Ngoại...</small><br><small>HSD: 31/11/2025</small></label>
                <button class="btnApply">Áp dụng</button>
            </div>
            <div class="promoItem">
                <input type="radio" id="promo25k" name="promo" value="10k">
                <label for="promo25k">Mã giảm giá 25K - Truyện Manga <br><small>Đơn hàng từ 210k</small><br><small>HSD:
                    31/11/2025</small></label>
                <button class="btnApply">Áp dụng</button>
            </div>
        </div>
        <button id="viewMoreBtn" class="btnViewMore">Xem thêm</button>
    </div>
</div>
<!-- JavaScript -->
<script>
    // Get the modal
    var modal = document.getElementById("modal");

    // Get the button that opens the modal (assuming it's triggered by "Mua thêm" in promo section)
    var btn = document.querySelector(".promo-section .btn-buy-more");

    // Get the <span> element that closes the modal
    var span = document.getElementsByClassName("closeBtn")[0];
    var closeBtn = document.querySelector(".btnClose");

    // Get the view more button and promo items
    var viewMoreBtn = document.getElementById("viewMoreBtn");
    var promoItems = document.querySelectorAll(".promoItem");

    // When the user clicks the button, open the modal
    btn.onclick = function() {
        modal.style.display = "block";
    }

    // When the user clicks on <span> (x) or "Đóng", close the modal
    span.onclick = function() {
        modal.style.display = "none";
    }
    closeBtn.onclick = function() {
        modal.style.display = "none";
    }

    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function(event) {
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }

    // Apply promo code from list
    var applyBtns = document.querySelectorAll(".promoItem .btnApply");
    applyBtns.forEach(button => {
        button.onclick = function() {
            var promo = this.parentElement.querySelector("input[type='radio']:checked");
            if (promo) {
                alert("Áp dụng mã " + promo.value + " thành công!");
                modal.style.display = "none";
            } else {
                alert("Vui lòng chọn một mã khuyến mãi!");
            }
        }
    });

    // Apply manually entered promo code
    document.getElementById("applyManualCode").onclick = function() {
        var promoCode = document.getElementById("promoCodeInput").value.trim();
        if (promoCode) {
            alert("Áp dụng mã " + promoCode + " thành công!");
            modal.style.display = "none";
        } else {
            alert("Vui lòng nhập mã khuyến mãi!");
        }
    }

    // View more functionality
    viewMoreBtn.onclick = function() {
        promoItems.forEach(item => {
            item.classList.remove("hidden");
        });
        viewMoreBtn.style.display = "none"; // Ẩn nút "Xem thêm" sau khi hiển thị tất cả
    }
</script>
</body>
</html>